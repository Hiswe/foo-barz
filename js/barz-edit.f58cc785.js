(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["barz-edit"],{1839:function(t,e,i){"use strict";var o=i("77b2"),n=i.n(o);n.a},"2b78":function(t,e,i){},"2f00":function(t,e,i){"use strict";var o=i("7242"),n=i.n(o);n.a},"493b":function(t,e,i){},"600c":function(t,e,i){"use strict";var o=i("9705"),n=i.n(o);e["default"]=n.a},"661f":function(t,e,i){"use strict";var o=i("7a2d"),n=i.n(o);e["default"]=n.a},7242:function(t,e,i){},"77b2":function(t,e,i){},"7a2d":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"bar-name":"bar name"}}'),delete t.options._Ctor}},"837c":function(t,e,i){"use strict";var o=i("2b78"),n=i.n(o);n.a},9705:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"en":{"remove":"remove","save":"save"}}'),delete t.options._Ctor}},d53d:function(t,e,i){"use strict";var o=i("493b"),n=i.n(o);n.a},f13f:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("foobarz-main-content",{attrs:{page:"barz-new-edit",title:t.bar.name}},[i("form",{on:{submit:function(e){return e.preventDefault(),t.updateBar(e)}}},[i("div",{staticClass:"bar-name"},[i("label",{staticClass:"bar-name__label",attrs:{for:"bar-name"}},[t._v(t._s(t.$t("bar-name")))]),i("foobarz-input",{staticClass:"bar-name__input",attrs:{name:"bar-name"},model:{value:t.bar.name,callback:function(e){t.$set(t.bar,"name",e)},expression:"bar.name"}})],1),i("div",{staticClass:"products"},[t._l(t.bar.articles,function(e,o){return i("div",{key:e.id+"-title",staticClass:"products__item",on:{click:function(i){t.openEditArticle(e.id)}}},[i("foobarz-article",{attrs:{article:e}})],1)}),i("button",{staticClass:"products__add",attrs:{type:"button"},on:{click:t.addProduct}},[i("foobarz-icon",{attrs:{name:"add",scale:2.5}})],1)],2),i("foobarz-article-edit",{attrs:{article:t.editedArticle},on:{input:t.onEditProduct,close:t.closeEditArticle}}),i("foobarz-button",{attrs:{fab:""},on:{click:t.onSave}},[i("foobarz-icon",{attrs:{name:"save",scale:1.5}})],1)],1)])},n=[],a=(i("6762"),i("2fdb"),i("c93e")),c=i("2b0e"),r=(i("cd3f"),i("2f62")),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.article?i("aside",{staticClass:"article-edit",on:{click:function(e){return e.stopPropagation(),t.noop(e)}}},[i("foobarz-icon",{staticClass:"article-edit__close",attrs:{name:"close",scale:2},nativeOn:{click:function(e){return t.close(e)}}}),i("div",{staticClass:"article-edit__fields"},[i("foobarz-icon-picker",{staticClass:"article-edit__icon",on:{input:t.bubbleInput},model:{value:t.article.icon,callback:function(e){t.$set(t.article,"icon",e)},expression:"article.icon"}}),i("foobarz-input",{staticClass:"article-edit__name",on:{input:t.bubbleInput},model:{value:t.article.name,callback:function(e){t.$set(t.article,"name",e)},expression:"article.name"}}),i("foobarz-color-picker",{staticClass:"article-edit__color",on:{input:t.bubbleInput},model:{value:t.article.color,callback:function(e){t.$set(t.article,"color",e)},expression:"article.color"}}),i("foobarz-input",{staticClass:"article-edit__price",attrs:{type:"number"},on:{input:t.bubbleInput},model:{value:t.article.price,callback:function(e){t.$set(t.article,"price",e)},expression:"article.price"}})],1),i("div",{staticClass:"article-edit__actions"},[i("foobarz-icon",{staticClass:"article-edit__remove",attrs:{name:"delete-forever",scale:2},nativeOn:{click:function(e){return t.archive(e)}}}),i("foobarz-button",{staticClass:"article-edit__save",attrs:{preventTab:""},on:{click:t.close}},[t._v(t._s(t.$t("save")))]),i("input",{staticClass:"article-edit__submit",on:{focus:t.close}})],1)],1):t._e()},l=[],u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"foobarz-color-picker"},[i("div",{staticClass:"foobarz-color-picker__bucket",style:{background:t.value},attrs:{value:t.value},on:{click:t.toggle}}),t.open?i("ul",{staticClass:"foobarz-color-picker__list"},t._l(t.colorList,function(e){return i("li",{key:e,staticClass:"foobarz-color-picker__color",on:{click:function(i){t.setColor(e)}}},[i("div",{staticClass:"foobarz-color-picker__bucket",style:{background:e}})])})):t._e()])},f=[],d=i("a53b"),b=new c["default"],p={name:"foobarz-icon-picker",mounted:function(){b.$on("picker-open",this.close)},beforeDestroy:function(){b.$off("picker-open",this.close)},data:function(){return{colorList:d["c"].slice(),open:!1}},props:{value:{default:"#000",type:String}},methods:{toggle:function(){b.$emit(""),this.open=!this.open},close:function(){this.open=!1},setColor:function(t){this.$emit("input",t),this.close()}}},_=p,m=(i("2f00"),i("2877")),v=Object(m["a"])(_,u,f,!1,null,"156d5c3e",null);v.options.__file="color-picker.vue";var h=v.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"foobarz-icon-picker"},[i("div",{staticClass:"foobarz-icon-picker__icon",attrs:{value:t.value},on:{click:t.toggle}},[i("foobarz-icon",{attrs:{name:t.value}})],1),t.open?i("ul",{staticClass:"foobarz-icon-picker__list"},t._l(t.iconList,function(e){return i("li",{key:e.id,staticClass:"foobarz-icon-picker__icon",on:{click:function(i){t.setIcon(e.name)}}},[i("foobarz-icon",{attrs:{name:e.name}})],1)})):t._e()])},z=[],C=(i("7f7f"),{name:"foobarz-icon-picker",mounted:function(){b.$on("picker-open",this.close)},beforeDestroy:function(){b.$off("picker-open",this.close)},data:function(){return{iconList:d["e"],open:!1}},props:{value:{default:d["e"][0].name,type:String}},methods:{toggle:function(){this.open||b.$emit("picker-open"),this.open=!this.open},close:function(){this.open=!1},setIcon:function(t){this.$emit("input",t),this.close()}}}),$=C,A=(i("d53d"),Object(m["a"])($,k,z,!1,null,"1d2db96b",null));A.options.__file="icon-picker.vue";var g=A.exports,I={name:"foobarz-article-edit",components:{"foobarz-color-picker":h,"foobarz-icon-picker":g},props:{article:{type:[Boolean,Object],required:!0,default:!1}},methods:{close:function(){this.$emit("close")},bubbleInput:function(){this.$emit("input")},archive:function(){this.article.archived=!0,this.$emit("close")},noop:function(){}}},E=I,O=(i("1839"),i("600c")),y=Object(m["a"])(E,s,l,!1,null,"add0c048",null);"function"===typeof O["default"]&&Object(O["default"])(y),y.options.__file="edit.vue";var j=y.exports,P={name:"page-bar",components:{"foobarz-article-edit":j},data:function(){return{editArticleId:!1}},computed:Object(a["a"])({barId:function(){return this.$route.params.barId},editedArticle:function(){return!!this.editArticleId&&this.bar.articles[this.editArticleId]},bar:function(){return this.getBar(this.barId)}},Object(r["e"])({isValidParams:function(t){var e=t.barz.ids.includes(this.barId);return e}}),Object(r["c"])(["getBar"])),created:function(){if(!this.isValidParams)return this.$router.push({name:"404"})},methods:Object(a["a"])({updateBar:function(){this.UPDATE_BAR(this.bar),this.$el.blur()},addProduct:function(){var t=Object(d["d"])();c["default"].set(this.bar.articles,t.id,t),this.editArticleId=t.id},onSave:function(){this.UPDATE_BAR(this.bar),this.$router.push({name:"home"})},openEditArticle:function(t){this.editArticleId=t},closeEditArticle:function(){this.editArticleId=!1,this.UPDATE_BAR(this.bar)},onEditProduct:function(){this.UPDATE_BAR(this.bar)}},Object(r["d"])(["UPDATE_BAR"]))},x=P,B=(i("837c"),i("661f")),w=Object(m["a"])(x,o,n,!1,null,"480eb88f",null);"function"===typeof B["default"]&&Object(B["default"])(w),w.options.__file="BarzEdit.vue";e["default"]=w.exports}}]);
//# sourceMappingURL=barz-edit.f58cc785.js.map